<section ng-repeat="ad in catalog | filter: { categoryId: category.id || '!', townId: town.id || '!'}:true" class="box">
    <article class="ad">
        <header>
            <time datetime="2008-02-14 20:00">{{ ad.date | date : 'd-MMM-yyyy' }}</time>
            <h2>{{ ad.title }}</h2>
        </header>
        <figure>
            <img src="{{ ad.imageDataUrl }}" alt="No Image" class="pull-left"/>
        </figure>

        <span>{{ ad.text }}</span>

        <p>Name: <span>{{ ad.ownerName }}</span></p>

        <p>Email: <span>{{ ad.ownerEmail }}</span></p>

        <p>Tel. <span>{{ ad.ownerPhone }}</span></p>
    </article>
    <p><em>Category: {{ getCategory(ad.categoryId) }}</em></p><br/>

    <p><em>Town: {{ getTown(ad.townId) }}</em></p>
</section>